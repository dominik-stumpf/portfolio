<script lang="ts">
  import Prose from "$lib/components/Prose.svelte";
  import Navbar from "$lib/components/Navbar.svelte";
  import { formatWeblogDate } from "$lib/utils/format-weblog-date";

  export let data;
</script>

<svelte:head>
  <title>Weblogs</title>
</svelte:head>

<header>
  <Navbar />
</header>
<Prose>
  <p>Technical articles about my thought processes when I make projects.</p>
  <div class="flex flex-col gap-6 py-4">
    {#each data.weblogs as weblog}
      <a
        class="border-border border p-4 rounded bg-card text normal-case
        font-serif"
        href={weblog.path}
      >
        <h2 style:margin="0">{weblog.metadata.title}</h2>
        <div class="font-mono text-sm mt-2 text-muted-foreground">
          <time datetime={new Date(weblog.metadata.publishedAt).toISOString()}
            >{formatWeblogDate(weblog.metadata.publishedAt)}</time
          >
          /
          <span>{weblog.readTimeResults.text}</span>
        </div>
        <p class="lead" style:margin-bottom="0">{weblog.metadata.lead}</p>
      </a>
    {/each}
  </div>
</Prose>
